@require "~@macrostrat/ui-components/src/shared/colors.styl"

body, html
  overscroll-behavior none
  .app-main
    padding-top 0

.desc-spinner
  margin-bottom 1em

#knowledge-base-filter.main, div.permalink-page
  padding-top 0
  margin 0 auto
  max-width 60em
  position relative
  padding 0 1em
  min-height 100vh
  display flex
  flex-direction: column
  div.spacer
    flex-grow 1
  &>.results
    flex-grow 1
    display flex
    flex-direction: column
    padding 0 10px
    .placeholder
      flex-grow 1

  .search-interface
    // Sticky positioning
    background: rgb(255,255,255, 1);
    margin-bottom: 1em

    z-index 10
    position: sticky
    postion webkit-sticky
    top 0

  .bp3-navbar
    align-items: center;
    margin-bottom 0
    .bp3-navbar-group.bp3-align-left
      flex 0
    padding-right 10px
    .spacer
      flex-grow 1
    &>*
      margin-right 10px
      &:last-child
        margin-right 0px

  .bp3-navbar-heading
    margin-right 10px

  .search-bar-contents
    flex-grow 1
    display flex
    flex-direction row
    align-items: baseline;
    margin-right 10px
    .main-search
      flex-grow 1
      margin-bottom 0
      .bp3-button
        margin-left 0

  div.pagination-controls
    display flex
    flex-direction row
    justify-content space-between
    margin-top 1em

  .main-search
    margin-bottom 1em

  div.model-extraction
    padding 10px
    margin 1em 0 2em
    position relative
    height max-content
    .extraction-inner
      display flex
      flex-direction column
      position relative

    p.result-index
      position absolute
      top -1.3em
      left 0px
      font-size 0.7em
      color $gray5
      user-select none

    h2
      font-size 14px
    div.extracted-entity
      float left
      margin-right 1em
    div.extracted-entity>.main
      .kb-image
        padding 3px
        border 1px solid $light-gray4
        border-radius 3px
      &>div.kb-image-container
        flex 2
        &:hover p.caption
          visibility visible
        p.caption
          span.type
            font-weight 600
          font-style italic
          visibility: hidden
          color $green5
          margin-top 0
          margin-bottom 2px
      &>*
        flex 1
    &>div
      flex 1
      position relative
      img
        max-width 100%

.bp3-dark
  a.link-card.gdd-article
    background-color: $dark-gray5

a.link-card.gdd-article
  text-decoration none
  .title
    font-weight 500
    font-style italic
  .journal, .year
    font-weight 600
  padding 0.6em 1em
  background-color: $light-gray5
  margin 0px -2px 1em
  &:hover
    color inherit
    text-decoration none
  .doi-title
    text-transform uppercase
    font-size 0.8em
    font-weight bold
    color #444


.search-interface>.bp3-collapse
  .bp3-collapse-body
    padding-top 1em

div.mui-collapse-card
  background-color: $light-gray5
  h3, h4
    margin-top 0
    margin-bottom 0.2em
  .top-row
    display flex
    flex-direction: row
    align-items baseline
    &>*
      margin-right 1em
      &:last-child
        margin-right 0
    div.spacer
      flex-grow 1

.bp3-button.model-select
  transform: translate(0, -3px)

div.bp3-card.filter-controls .inner
    margin-bottom -1em


div.related-terms .inner
  align-items first-baseline

  p.no-results
    flex-grow 1
  div.terms
    display flex
    flex-direction column
    div.related-terms-response
      width 100%
      display flex
      flex-direction row
      align-items: baseline
      .json-object
        color: $gray1
        font-style italic
      h4
        margin-right 2em

    ul
      list-style: none
      padding-left 0
      display flex
      flex-flow row wrap
      margin-top 0
      margin-bottom: 0
      li
        margin-right 1em
        margin-top 0.2em
        span
          display block

      span.correlation
        color: $gray1
        font-size: 0.7em
        text-align: right
        font-style italic

  p.no-results
    font-style italic

.filter-controls .inner
  .type-selector, .search-details .bp3-collapse-body
    display flex
    flex-grow 1
    flex-direction row
    margin-bottom 1em
    &>*
      margin-right 1em
    margin-right -1em
    align-items: baseline

  .type-selector
    display flex
    flex-direction row

  .threshold-controls
    margin-bottom -1em
    flex-grow 1
    .bp3-form-content
      margin 0 2em

  .bp3-form-group
    display flex
    .bp3-label
      min-width 8em
    .bp3-form-content
      flex-grow 1
    margin-bottom 5px

.download-extractions
  margin-bottom 0
  display flex
  flex-direction: row
  align-items: baseline
  h4
    margin-bottom 0
    margin-top 0
  &>*
    margin-right 1em
  div.spacer
    flex-grow 1
  margin-right -1em

.placeholder
  display: flex
  flex-direction: column;
  .placeholder-inner
    flex-grow 1
.footer
  margin-bottom 2em

.bp3-dark #knowledge-base-filter .search-interface
  background: $dark-gray3;

.trial-queries
  margin-top 0
  list-style none
  li
    display inline-block
    margin-right 1em

.search-backend-selector
  width 15em
